<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>2</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
		<link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'>
		<link rel="stylesheet" href="css/swipe.css">
		<link rel="stylesheet" href="css/card.css">
	</head>
	<body>
		<div role="tabpanel">
			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist" id="tablist">
				<li role="presentation" class="active"><a href="#monday" aria-controls="monday" role="tab" data-toggle="tab">Пн</a></li>
				<li role="presentation"><a href="#tuesday" aria-controls="tuesday" role="tab" data-toggle="tab">Вт</a></li>
				<li role="presentation"><a href="#wednesday" aria-controls="wednesday" role="tab" data-toggle="tab">Ср</a></li>
				<li role="presentation"><a href="#thursday" aria-controls="thursday" role="tab" data-toggle="tab">Чт</a></li>
				<li role="presentation"><a href="#friday" aria-controls="friday" role="tab" data-toggle="tab">Пт</a></li>
				<li role="presentation"><a href="#saturday" aria-controls="saturday" role="tab" data-toggle="tab">Сб</a></li>
			</ul>
			<!-- Tab panes -->
			<div class="tab-content">
				<div role="tabpanel" class="tab-pane active" id="monday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
				<div role="tabpanel" class="tab-pane" id="tuesday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
				<div role="tabpanel" class="tab-pane" id="wednesday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
				<div role="tabpanel" class="tab-pane" id="thursday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
				<div role="tabpanel" class="tab-pane" id="friday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
				<div role="tabpanel" class="tab-pane" id="saturday">
					<div class = "first card card--small"></div>
					<div class = "second card card--small"></div>
					<div class = "third card card--small"></div>
					<div class = "fourth card card--small"></div>
					<div class = "fifth card card--small"></div>
					<div class = "sixth card card--small"></div>
				</div>
			</div>
		</div>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js'></script>
		<script src="js/swipetabs.js"></script>
		<script src="js/weekNum.js"></script>
		<script src="js/dayInfo.js"></script>
		<script>
			$(document).ready(function() {	
				$(".ui-page-active").css('outline','0');
				var timeKey = new Object;
				timeKey["first"] = "08:00";
				timeKey["second"] = "09:45";
				timeKey["third"] = "12:00";
				timeKey["fourth"] = "13:45";
				timeKey["fifth"] = "15:25";
				timeKey["sixth"] = "17:05";	  
				var retrievedObject = localStorage.getItem('timeTable');
				schedule = JSON.parse(retrievedObject);
				console.log(schedule);
				var week =  schedule.secondWeek;
				for (var key in week) {
					var weekDay = week[key];
					var day = document.getElementById(key);
					for (var num in weekDay) 	{
						var  _class = weekDay[num];
						var  n = document.getElementsByClassName(num); 
						var  nc = $(day).find(n);
						if (_class.name != undefined) {
							if (_class.clas == "ЛК") {
								nc.append('<div class="card__image"><div style = "background-color: #2196f3;" class = "time">' + _class.clas + '</div></div>');
							} else if (_class.clas == "ПР") {
								nc.append('<div class="card__image"><div style = "background-color: #9c27b0;" class = "time">' + _class.clas + '</div></div>');
							} else if (_class.clas == "ЛБ") {
								nc.append('<div class="card__image"><div style = "background-color: #4caf50;" class = "time">' + _class.clas + '</div></div>');
							}else {
								nc.append('<div class="card__image"><div style = "background-color: #ff5722;" class = "time">' + _class.clas + '</div></div>');
							};
							nc.append('<h2 class="card__title">' + _class.name + '</h2>');	
							if (_class.teacher != undefined) {
								nc.append('<span class="card__subtitle">' + _class.teacher + '<p style="float: right">' + _class.classroom + '</p></span>');
							} else {
								nc.append('<span class="card__subtitle">ФКС<p style="float: right">' + _class.classroom + '</p></span>');
							};					
							nc.append('<p class="timeblock">' + timeKey[num] + '</p>');
						} else {
							nc.hide();
						};
					}			 
				}      	 
			});
		</script>
		<script>
			$(document).ready(function() {
				var now = new Date();
				var nD = now.getDay();
				if (nD <= 6) {
					var $tab = $('#tablist li:nth-child(' + nD + ')');
					if ($tab.length > 0)
						$tab.find('a').tab('show');
				}
				$(".ui-loader").hide();
			});
		</script>
	</body>
</html>